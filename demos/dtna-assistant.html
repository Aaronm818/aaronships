<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DTNA AI Assistant â€” Enterprise Chatbot</title>
<style>
  :root {
    --bg: #0f1117;
    --surface: #1a1d2e;
    --surface2: #222638;
    --surface3: #2a2f47;
    --border: #2e3354;
    --border-light: #3b4068;
    --text: #e2e8f0;
    --muted: #94a3b8;
    --dim: #4a5568;
    --blue: #3b82f6;
    --blue-dim: #1d4ed8;
    --blue-soft: rgba(59,130,246,.12);
    --blue-glow: rgba(59,130,246,.25);
    --green: #10b981;
    --green-soft: rgba(16,185,129,.12);
    --yellow: #f59e0b;
    --red: #ef4444;
    --purple: #8b5cf6;
    --purple-soft: rgba(139,92,246,.12);
    --cyan: #06b6d4;
    --header-h: 60px;
    --input-h: 72px;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  html,body { height:100%; font-family:'Segoe UI',system-ui,sans-serif; background:var(--bg); color:var(--text); font-size:13px; overflow:hidden; }

  /* â”€â”€ Layout â”€â”€ */
  .layout { display:flex; height:100vh; }
  .sidebar { width:240px; background:var(--surface); border-right:1px solid var(--border); display:flex; flex-direction:column; flex-shrink:0; }
  .chat-area { flex:1; display:flex; flex-direction:column; overflow:hidden; }

  /* â”€â”€ Sidebar â”€â”€ */
  .sidebar-header {
    padding:16px; border-bottom:1px solid var(--border);
    font-size:11px; font-weight:700; color:var(--muted); text-transform:uppercase; letter-spacing:.8px;
  }
  .sidebar-section { padding:8px 0; }
  .sidebar-label { padding:4px 14px; font-size:10px; font-weight:600; color:var(--dim); text-transform:uppercase; letter-spacing:.7px; }
  .sys-item {
    display:flex; align-items:center; gap:9px; padding:8px 14px;
    font-size:12px; color:var(--muted); border-left:3px solid transparent;
    transition:all .2s; cursor:default;
  }
  .sys-item.connected { color:var(--text); border-left-color:var(--green); }
  .sys-icon { font-size:14px; width:18px; text-align:center; }
  .sys-dot { width:6px; height:6px; border-radius:50%; background:var(--dim); margin-left:auto; flex-shrink:0; }
  .sys-dot.on { background:var(--green); box-shadow:0 0 5px var(--green); }

  .chat-history { padding:8px 0; flex:1; overflow-y:auto; }
  .hist-item {
    padding:7px 14px; font-size:11px; color:var(--muted); cursor:pointer;
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    transition:all .2s; border-radius:0;
  }
  .hist-item:hover { background:var(--surface2); color:var(--text); }
  .hist-item.active { background:var(--surface3); color:var(--text); border-left:3px solid var(--blue); }
  .hist-time { font-size:10px; color:var(--dim); }

  .sidebar-footer { padding:12px 14px; border-top:1px solid var(--border); }
  .user-row { display:flex; align-items:center; gap:9px; }
  .user-avatar { width:28px; height:28px; border-radius:50%; background:var(--blue-dim); display:flex; align-items:center; justify-content:center; font-size:11px; font-weight:700; flex-shrink:0; }
  .user-name { font-size:12px; font-weight:500; color:var(--text); }
  .user-role { font-size:10px; color:var(--muted); }

  /* â”€â”€ Chat header â”€â”€ */
  .chat-header {
    height:var(--header-h); background:var(--surface); border-bottom:1px solid var(--border);
    display:flex; align-items:center; padding:0 20px; gap:12px; flex-shrink:0;
  }
  .header-bot { font-size:20px; }
  .header-title { font-size:15px; font-weight:700; color:var(--text); }
  .header-sub { font-size:11px; color:var(--muted); }
  .systems-badge {
    display:flex; align-items:center; gap:6px; padding:5px 12px;
    background:var(--green-soft); border:1px solid rgba(16,185,129,.3); border-radius:20px;
    font-size:11px; font-weight:600; color:var(--green);
  }
  .badge-dot { width:6px; height:6px; border-radius:50%; background:var(--green); animation:blink 2s ease-in-out infinite; }
  @keyframes blink { 0%,100%{opacity:1;} 50%{opacity:.3;} }

  .back-link {
    margin-left:auto; font-size:11px; color:var(--muted); text-decoration:none;
    padding:5px 10px; border:1px solid var(--border); border-radius:6px; transition:all .2s;
  }
  .back-link:hover { color:var(--blue); border-color:var(--blue); }

  /* â”€â”€ Messages â”€â”€ */
  .messages { flex:1; overflow-y:auto; padding:20px; display:flex; flex-direction:column; gap:16px; }
  .msg { display:flex; gap:10px; animation:msgIn .25s ease; }
  @keyframes msgIn { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }
  .msg.user { flex-direction:row-reverse; }

  .msg-avatar {
    width:32px; height:32px; border-radius:50%; display:flex; align-items:center;
    justify-content:center; font-size:14px; flex-shrink:0; margin-top:2px;
  }
  .bot-avatar { background:linear-gradient(135deg, var(--blue-dim), var(--purple)); }
  .user-av { background:var(--surface3); border:1px solid var(--border); font-size:11px; font-weight:700; color:var(--muted); }

  .msg-bubble {
    max-width:80%; padding:12px 14px; border-radius:12px;
    font-size:13px; line-height:1.6;
  }
  .bot-bubble { background:var(--surface2); border:1px solid var(--border); color:var(--text); border-bottom-left-radius:4px; }
  .user-bubble { background:var(--blue-dim); color:#fff; border-bottom-right-radius:4px; }

  .msg-time { font-size:10px; color:var(--dim); margin-top:4px; }
  .msg.user .msg-time { text-align:right; }

  /* Structured response elements */
  .ticket-card {
    background:var(--surface3); border:1px solid var(--border-light); border-radius:8px;
    padding:10px 12px; margin:6px 0;
  }
  .tc-header { display:flex; justify-content:space-between; margin-bottom:6px; }
  .tc-id { font-size:11px; font-weight:700; color:var(--blue); }
  .tc-status { font-size:10px; padding:2px 8px; border-radius:12px; font-weight:600; }
  .status-open { background:rgba(245,158,11,.15); color:var(--yellow); }
  .status-resolved { background:var(--green-soft); color:var(--green); }
  .status-progress { background:var(--blue-soft); color:var(--blue); }
  .tc-title { font-size:12px; font-weight:500; color:var(--text); margin-bottom:4px; }
  .tc-meta { font-size:11px; color:var(--muted); }

  .api-row {
    display:flex; align-items:center; gap:8px; padding:7px 0;
    border-bottom:1px solid var(--border); font-size:12px;
  }
  .api-row:last-child { border-bottom:none; }
  .api-method { font-size:10px; font-weight:700; padding:2px 7px; border-radius:4px; font-family:monospace; }
  .m-get { background:rgba(16,185,129,.15); color:var(--green); }
  .m-post { background:var(--blue-soft); color:var(--blue); }
  .api-path { font-family:monospace; font-size:11px; color:var(--cyan); flex:1; }
  .api-errors { font-size:11px; color:var(--red); margin-left:auto; }

  .doc-result {
    background:var(--surface3); border-left:3px solid var(--blue); border-radius:0 6px 6px 0;
    padding:10px 12px; margin:5px 0;
  }
  .doc-title { font-size:12px; font-weight:600; color:var(--text); margin-bottom:3px; }
  .doc-excerpt { font-size:11px; color:var(--muted); line-height:1.5; }
  .doc-source { font-size:10px; color:var(--dim); margin-top:4px; }

  .info-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; margin:6px 0; }
  .info-box { background:var(--surface3); border-radius:6px; padding:10px 12px; }
  .info-key { font-size:10px; color:var(--muted); text-transform:uppercase; letter-spacing:.4px; margin-bottom:3px; }
  .info-val { font-size:14px; font-weight:700; color:var(--text); }
  .info-val.good { color:var(--green); }
  .info-val.warn { color:var(--yellow); }

  /* â”€â”€ Quick actions â”€â”€ */
  .quick-actions { padding:12px 20px; border-top:1px solid var(--border); background:var(--surface); flex-shrink:0; }
  .qa-label { font-size:10px; color:var(--dim); text-transform:uppercase; letter-spacing:.6px; margin-bottom:8px; }
  .qa-grid { display:flex; flex-wrap:wrap; gap:6px; }
  .qa-btn {
    display:flex; align-items:center; gap:5px; padding:6px 12px;
    background:var(--surface2); border:1px solid var(--border); border-radius:20px;
    color:var(--muted); font-size:11px; cursor:pointer; transition:all .2s; font-weight:500;
  }
  .qa-btn:hover { background:var(--blue-soft); border-color:rgba(59,130,246,.4); color:var(--blue); }
  .qa-btn:active { transform:scale(.96); }

  /* â”€â”€ Input â”€â”€ */
  .input-bar {
    height:var(--input-h); padding:12px 20px;
    background:var(--surface); border-top:1px solid var(--border); flex-shrink:0;
    display:flex; align-items:center; gap:10px;
  }
  .chat-input {
    flex:1; background:var(--surface2); border:1px solid var(--border); border-radius:10px;
    color:var(--text); padding:10px 14px; font-size:13px; outline:none;
    transition:border-color .2s; resize:none; line-height:1.4; height:46px;
    font-family:inherit;
  }
  .chat-input:focus { border-color:rgba(59,130,246,.5); }
  .chat-input::placeholder { color:var(--dim); }
  .send-btn {
    width:40px; height:40px; border-radius:10px; border:none; cursor:pointer;
    background:var(--blue-dim); color:#fff; font-size:16px; display:flex;
    align-items:center; justify-content:center; transition:all .2s; flex-shrink:0;
  }
  .send-btn:hover { background:var(--blue); box-shadow:0 0 12px var(--blue-glow); }
  .send-btn:active { transform:scale(.94); }

  /* â”€â”€ Typing â”€â”€ */
  .typing-bubble { padding:12px 14px !important; }
  .typing-dots { display:flex; gap:5px; align-items:center; }
  .typing-dot {
    width:7px; height:7px; border-radius:50%; background:var(--muted);
    animation:bounce .8s ease-in-out infinite;
  }
  .typing-dot:nth-child(2) { animation-delay:.15s; }
  .typing-dot:nth-child(3) { animation-delay:.3s; }
  @keyframes bounce { 0%,60%,100%{transform:translateY(0);} 30%{transform:translateY(-5px);} }

  ::-webkit-scrollbar { width:5px; }
  ::-webkit-scrollbar-track { background:transparent; }
  ::-webkit-scrollbar-thumb { background:var(--border); border-radius:3px; }
</style>
</head>
<body>

<div class="layout">
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="sidebar-header">DTNA Assistant</div>

    <div class="sidebar-section">
      <div class="sidebar-label">Connected Systems</div>
      <div class="sys-item connected"><span class="sys-icon">ğŸŸï¸</span> ServiceNow <div class="sys-dot on"></div></div>
      <div class="sys-item connected"><span class="sys-icon">ğŸ”Œ</span> API Gateway <div class="sys-dot on"></div></div>
      <div class="sys-item connected"><span class="sys-icon">ğŸ“š</span> Confluence <div class="sys-dot on"></div></div>
      <div class="sys-item connected"><span class="sys-icon">ğŸ‘¥</span> Workday HR <div class="sys-dot on"></div></div>
      <div class="sys-item connected"><span class="sys-icon">ğŸ“Š</span> Power BI <div class="sys-dot on"></div></div>
    </div>

    <div class="chat-history" id="chat-history">
      <div class="sidebar-label">Recent Chats</div>
      <div class="hist-item active">API error spike â€” Nov 14<br><span class="hist-time">Today, 10:24 AM</span></div>
      <div class="hist-item">Sprint 12 ticket review<br><span class="hist-time">Yesterday</span></div>
      <div class="hist-item">PTO balance check<br><span class="hist-time">Nov 12</span></div>
      <div class="hist-item">Onboarding docs request<br><span class="hist-time">Nov 11</span></div>
    </div>

    <div class="sidebar-footer">
      <div class="user-row">
        <div class="user-avatar">AB</div>
        <div>
          <div class="user-name">Aaron B.</div>
          <div class="user-role">Senior AI Engineer</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Chat area -->
  <div class="chat-area">
    <!-- Header -->
    <div class="chat-header">
      <div class="header-bot">ğŸ¤–</div>
      <div>
        <div class="header-title">DTNA AI Assistant</div>
        <div class="header-sub">Enterprise Knowledge Hub</div>
      </div>
      <div class="systems-badge">
        <div class="badge-dot"></div>
        Connected to 5 enterprise systems
      </div>
      <a href="../index.html#projects" class="back-link">â† Portfolio</a>
    </div>

    <!-- Messages -->
    <div class="messages" id="messages">
      <!-- Welcome -->
      <div class="msg">
        <div class="msg-avatar bot-avatar">ğŸ¤–</div>
        <div>
          <div class="msg-bubble bot-bubble">
            <strong>Hey, Aaron! ğŸ‘‹</strong> I'm your DTNA AI Assistant, connected to 5 enterprise systems.<br><br>
            I can help you with:
            <br>â€¢ ğŸŸï¸ <strong>Service tickets</strong> from ServiceNow
            <br>â€¢ ğŸ”Œ <strong>API analytics</strong> & error monitoring
            <br>â€¢ ğŸ“š <strong>Documentation search</strong> across Confluence
            <br>â€¢ ğŸ‘¥ <strong>HR queries</strong> via Workday
            <br>â€¢ ğŸ“Š <strong>Reports</strong> from Power BI
            <br><br>What can I help you with today?
          </div>
          <div class="msg-time">10:24 AM</div>
        </div>
      </div>
    </div>

    <!-- Quick actions -->
    <div class="quick-actions">
      <div class="qa-label">Quick Actions</div>
      <div class="qa-grid">
        <button class="qa-btn" onclick="quickAction('tickets')">ğŸŸï¸ Show my tickets</button>
        <button class="qa-btn" onclick="quickAction('apierrors')">ğŸ”Œ API errors</button>
        <button class="qa-btn" onclick="quickAction('docs')">ğŸ“š Find docs</button>
        <button class="qa-btn" onclick="quickAction('pto')">ğŸŒ´ PTO balance</button>
        <button class="qa-btn" onclick="quickAction('help')">ğŸ’¬ General help</button>
      </div>
    </div>

    <!-- Input -->
    <div class="input-bar">
      <textarea class="chat-input" id="chat-input" placeholder="Ask me anything across all connected systemsâ€¦" rows="1"
        onkeydown="handleKey(event)"></textarea>
      <button class="send-btn" onclick="sendUserMessage()">â¤</button>
    </div>
  </div>
</div>

<script>
const now = () => new Date().toLocaleTimeString('en-US', { hour:'numeric', minute:'2-digit' });

const responses = {
  tickets: {
    label: 'Show my open tickets',
    html: `
      <div style="margin-bottom:10px;font-size:12px;color:var(--muted);">Found <strong style="color:var(--text);">4 open tickets</strong> assigned to you in ServiceNow:</div>
      <div class="ticket-card">
        <div class="tc-header"><span class="tc-id">INC0084721</span><span class="tc-status status-open">Open</span></div>
        <div class="tc-title">API Gateway timeout on /v2/fleet/track endpoint</div>
        <div class="tc-meta">P2 Â· Assigned: 2d ago Â· Updated: 1h ago</div>
      </div>
      <div class="ticket-card">
        <div class="tc-header"><span class="tc-id">INC0084650</span><span class="tc-status status-progress">In Progress</span></div>
        <div class="tc-title">Fleet dashboard data refresh delay (>45s)</div>
        <div class="tc-meta">P3 Â· Assigned: 4d ago Â· Updated: 3h ago</div>
      </div>
      <div class="ticket-card">
        <div class="tc-header"><span class="tc-id">CHG0031102</span><span class="tc-status status-progress">Pending Approval</span></div>
        <div class="tc-title">Deploy LangChain agent v2.1 to production</div>
        <div class="tc-meta">Change Â· Due: Nov 18 Â· CAB review required</div>
      </div>
      <div class="ticket-card">
        <div class="tc-header"><span class="tc-id">INC0083940</span><span class="tc-status status-resolved">Resolved</span></div>
        <div class="tc-title">Workday SSO token expiry issue</div>
        <div class="tc-meta">P3 Â· Resolved: Nov 12 Â· RCA pending</div>
      </div>
      <div style="margin-top:8px;font-size:11px;color:var(--muted);">Want me to open any of these or create a new ticket?</div>`
  },
  apierrors: {
    label: 'Show API errors',
    html: `
      <div style="margin-bottom:10px;font-size:12px;color:var(--muted);">Here's the <strong style="color:var(--text);">API error summary</strong> from the last 24h via API Gateway:</div>
      <div style="background:var(--surface3);border-radius:8px;padding:12px;margin-bottom:10px;">
        <div class="api-row">
          <span class="api-method m-get">GET</span>
          <span class="api-path">/v2/fleet/track</span>
          <span class="api-errors">ğŸ”´ 142 errors (504)</span>
        </div>
        <div class="api-row">
          <span class="api-method m-post">POST</span>
          <span class="api-path">/v2/dispatch/assign</span>
          <span class="api-errors">ğŸŸ¡ 38 errors (422)</span>
        </div>
        <div class="api-row">
          <span class="api-method m-get">GET</span>
          <span class="api-path">/v1/driver/status</span>
          <span class="api-errors">ğŸŸ¡ 17 errors (403)</span>
        </div>
        <div class="api-row">
          <span class="api-method m-post">POST</span>
          <span class="api-path">/v2/routes/optimize</span>
          <span class="api-errors">ğŸ”µ 4 errors (429)</span>
        </div>
      </div>
      <div style="font-size:11px;color:var(--yellow);">âš ï¸ <strong>/v2/fleet/track</strong> timeout spike began at 09:14 AM. Correlates with INC0084721. Load balancer health check failing on us-west-2b.</div>`
  },
  docs: {
    label: 'Find API documentation',
    html: `
      <div style="margin-bottom:10px;font-size:12px;color:var(--muted);">Top results from <strong style="color:var(--text);">Confluence</strong> (RAG search):</div>
      <div class="doc-result">
        <div class="doc-title">Fleet Tracking API v2 â€” Integration Guide</div>
        <div class="doc-excerpt">Complete reference for /v2/fleet/track endpoints including authentication, rate limits, and timeout configuration. Covers WebSocket fallback for real-time tracking.</div>
        <div class="doc-source">ğŸ“„ Engineering Â· Updated Nov 10, 2024 Â· 94% relevance</div>
      </div>
      <div class="doc-result">
        <div class="doc-title">API Gateway Timeout Troubleshooting Runbook</div>
        <div class="doc-excerpt">Step-by-step guide for diagnosing 504 errors in the API Gateway. Includes load balancer health check procedures and escalation matrix.</div>
        <div class="doc-source">ğŸ“„ Ops Runbooks Â· Updated Nov 13, 2024 Â· 89% relevance</div>
      </div>
      <div class="doc-result">
        <div class="doc-title">LangChain Agent Deployment â€” DTNA Production Checklist</div>
        <div class="doc-excerpt">Pre-deployment checklist for AI agent releases. Covers CAB approval workflow, rollback procedures, and monitoring configuration in Power BI.</div>
        <div class="doc-source">ğŸ“„ AI Team Â· Updated Nov 8, 2024 Â· 82% relevance</div>
      </div>`
  },
  pto: {
    label: 'Check my PTO balance',
    html: `
      <div style="margin-bottom:10px;font-size:12px;color:var(--muted);">Your <strong style="color:var(--text);">Workday PTO summary</strong> as of today:</div>
      <div class="info-grid">
        <div class="info-box">
          <div class="info-key">PTO Balance</div>
          <div class="info-val good">14.5 days</div>
        </div>
        <div class="info-box">
          <div class="info-key">Sick Leave</div>
          <div class="info-val good">8.0 days</div>
        </div>
        <div class="info-box">
          <div class="info-key">Used YTD</div>
          <div class="info-val">5.5 days</div>
        </div>
        <div class="info-box">
          <div class="info-key">Carryover Cap</div>
          <div class="info-val warn">20 days</div>
        </div>
      </div>
      <div style="margin-top:8px;font-size:11px;color:var(--muted);">ğŸ“… Next company holiday: <strong style="color:var(--text);">Thanksgiving â€” Nov 28</strong> (2 days)<br>âš ï¸ Accrual resets Jan 1. Use 5.5+ days before year-end to avoid losing accrual.</div>`
  },
  help: {
    label: 'What can you help me with?',
    html: `
      I'm connected to 5 enterprise systems and can help you with:
      <br><br>
      <strong>ğŸŸï¸ ServiceNow</strong> â€” Create, update, or query tickets. Get SLA status, assign incidents, view your queue.
      <br><br>
      <strong>ğŸ”Œ API Gateway</strong> â€” Error analytics, endpoint health, rate limit monitoring, usage trends from Power BI.
      <br><br>
      <strong>ğŸ“š Confluence</strong> â€” Search across all documentation with RAG-powered semantic search. Get summaries and direct links.
      <br><br>
      <strong>ğŸ‘¥ Workday HR</strong> â€” PTO balances, payslips, team directory, benefits enrollment deadlines.
      <br><br>
      <strong>ğŸ“Š Power BI</strong> â€” Pull KPI summaries, generate report snapshots, query dashboards in natural language.
      <br><br>
      Just ask in plain English â€” I'll route your request to the right system automatically.`
  },
};

const customResponses = [
  'Let me check that across your connected systemsâ€¦',
  'I found some relevant information. Let me summarize the key points for you.',
  'Based on the data from ServiceNow and your API Gateway, here\'s what I seeâ€¦',
  'Cross-referencing Confluence and the ticket history nowâ€¦',
];

function addMessage(html, isUser, isTyping = false) {
  const msgs = document.getElementById('messages');
  const div = document.createElement('div');
  div.className = 'msg' + (isUser ? ' user' : '');

  const av = document.createElement('div');
  av.className = 'msg-avatar' + (isUser ? ' user-av' : ' bot-avatar');
  av.textContent = isUser ? 'AB' : 'ğŸ¤–';

  const content = document.createElement('div');

  const bubble = document.createElement('div');
  bubble.className = 'msg-bubble' + (isUser ? ' user-bubble' : ' bot-bubble');

  if (isTyping) {
    bubble.classList.add('typing-bubble');
    bubble.innerHTML = '<div class="typing-dots"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>';
  } else {
    bubble.innerHTML = html;
  }

  const time = document.createElement('div');
  time.className = 'msg-time';
  time.textContent = now();

  content.appendChild(bubble);
  content.appendChild(time);
  div.appendChild(av);
  div.appendChild(content);
  msgs.appendChild(div);
  msgs.scrollTop = msgs.scrollHeight;
  return div;
}

function quickAction(key) {
  const resp = responses[key];
  addMessage(resp.label, true);

  const typingEl = addMessage('', false, true);
  setTimeout(() => {
    typingEl.remove();
    addMessage(resp.html, false);
  }, 1000 + Math.random() * 600);
}

function sendUserMessage() {
  const input = document.getElementById('chat-input');
  const text = input.value.trim();
  if (!text) return;

  addMessage(text, true);
  input.value = '';

  // Check for keyword matches
  const lower = text.toLowerCase();
  let matched = null;
  if (lower.includes('ticket') || lower.includes('incident') || lower.includes('snow')) matched = 'tickets';
  else if (lower.includes('api') || lower.includes('error') || lower.includes('gateway') || lower.includes('504')) matched = 'apierrors';
  else if (lower.includes('doc') || lower.includes('confluenc') || lower.includes('guide') || lower.includes('search')) matched = 'docs';
  else if (lower.includes('pto') || lower.includes('vacation') || lower.includes('leave') || lower.includes('time off')) matched = 'pto';

  const typingEl = addMessage('', false, true);
  const delay = 900 + Math.random() * 700;

  setTimeout(() => {
    typingEl.remove();
    if (matched) {
      addMessage(responses[matched].html, false);
    } else {
      const pick = customResponses[Math.floor(Math.random() * customResponses.length)];
      addMessage(pick + '<br><br>Could you rephrase that or try one of the quick actions below?', false);
    }
  }, delay);
}

function handleKey(e) {
  if (e.key === 'Enter' && !e.shiftKey) {
    e.preventDefault();
    sendUserMessage();
  }
}
</script>
</body>
</html>
